!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e("object"==typeof exports?require("jquery"):jQuery)}(function(e){var t,n=navigator.userAgent,a=/iphone/i.test(n),i=/chrome/i.test(n),r=/android/i.test(n);e.mask={definitions:{9:"[0-9]",a:"[A-Za-z]","*":"[A-Za-z0-9]"},autoclear:!0,dataName:"rawMaskFn",placeholder:"_"},e.fn.extend({caret:function(e,t){var n;if(0!==this.length&&!this.is(":hidden"))return"number"==typeof e?(t="number"==typeof t?t:e,this.each(function(){this.setSelectionRange?this.setSelectionRange(e,t):this.createTextRange&&((n=this.createTextRange()).collapse(!0),n.moveEnd("character",t),n.moveStart("character",e),n.select())})):(this[0].setSelectionRange?(e=this[0].selectionStart,t=this[0].selectionEnd):document.selection&&document.selection.createRange&&(n=document.selection.createRange(),e=0-n.duplicate().moveStart("character",-1e5),t=e+n.text.length),{begin:e,end:t})},unmask:function(){return this.trigger("unmask")},mask:function(n,o){var c,l,u,f,s,h,g;if(!n&&this.length>0){var m=e(this[0]).data(e.mask.dataName);return m?m():void 0}return o=e.extend({autoclear:e.mask.autoclear,placeholder:e.mask.placeholder,completed:null},o),c=e.mask.definitions,l=[],u=h=n.length,f=null,e.each(n.split(""),function(e,t){"?"==t?(h--,u=e):c[t]?(l.push(new RegExp(c[t])),null===f&&(f=l.length-1),u>e&&(s=l.length-1)):l.push(null)}),this.trigger("unmask").each(function(){function m(){if(o.completed){for(var e=f;s>=e;e++)if(l[e]&&R[e]===d(e))return;o.completed.call(j)}}function d(e){return o.placeholder.charAt(e<o.placeholder.length?e:0)}function p(e){for(;++e<h&&!l[e];);return e}function v(e,t){var n,a;if(!(0>e)){for(n=e,a=p(t);h>n;n++)if(l[n]){if(!(h>a&&l[n].test(R[a])))break;R[n]=R[a],R[a]=d(a),a=p(a)}y(),j.caret(Math.max(f,e))}}function b(){x(),j.val()!=A&&j.change()}function k(e,t){var n;for(n=e;t>n&&h>n;n++)l[n]&&(R[n]=d(n))}function y(){j.val(R.join(""))}function x(e){var t,n,a,i=j.val(),r=-1;for(t=0,a=0;h>t;t++)if(l[t]){for(R[t]=d(t);a++<i.length;)if(n=i.charAt(a-1),l[t].test(n)){R[t]=n,r=t;break}if(a>i.length){k(t+1,h);break}}else R[t]===i.charAt(a)&&a++,u>t&&(r=t);return e?y():u>r+1?o.autoclear||R.join("")===S?(j.val()&&j.val(""),k(0,h)):y():(y(),j.val(j.val().substring(0,r+1))),u?t:f}var j=e(this),R=e.map(n.split(""),function(e,t){return"?"!=e?c[e]?d(t):e:void 0}),S=R.join(""),A=j.val();j.data(e.mask.dataName,function(){return e.map(R,function(e,t){return l[t]&&e!=d(t)?e:null}).join("")}),j.one("unmask",function(){j.off(".mask").removeData(e.mask.dataName)}).on("focus.mask",function(){var e;j.prop("readonly")||(clearTimeout(t),A=j.val(),e=x(),t=setTimeout(function(){j.get(0)===document.activeElement&&(y(),e==n.replace("?","").length?j.caret(0,e):j.caret(e))},10))}).on("blur.mask",b).on("keydown.mask",function(e){if(!j.prop("readonly")){var t,n,i,r=e.which||e.keyCode;g=j.val(),8===r||46===r||a&&127===r?(n=(t=j.caret()).begin,(i=t.end)-n==0&&(n=46!==r?function(e){for(;--e>=0&&!l[e];);return e}(n):i=p(n-1),i=46===r?p(i):i),k(n,i),v(n,i-1),e.preventDefault()):13===r?b.call(this,e):27===r&&(j.val(A),j.caret(0,x()),e.preventDefault())}}).on("keypress.mask",function(t){if(!j.prop("readonly")){var n,a,i,o=t.which||t.keyCode,c=j.caret();t.ctrlKey||t.altKey||t.metaKey||32>o||!o||13===o||(c.end-c.begin!=0&&(k(c.begin,c.end),v(c.begin,c.end-1)),n=p(c.begin-1),h>n&&(a=String.fromCharCode(o),l[n].test(a))&&(function(e){var t,n,a,i;for(t=e,n=d(e);h>t;t++)if(l[t]){if(a=p(t),i=R[t],R[t]=n,!(h>a&&l[a].test(i)))break;n=i}}(n),R[n]=a,y(),i=p(n),r?setTimeout(function(){e.proxy(e.fn.caret,j,i)()},0):j.caret(i),c.begin<=s&&m()),t.preventDefault())}}).on("input.mask paste.mask",function(){j.prop("readonly")||setTimeout(function(){var e=x(!0);j.caret(e),m()},0)}),i&&r&&j.off("input.mask").on("input.mask",function(){var e=j.val(),t=j.caret();if(g&&g.length&&g.length>e.length){for(x(!0);t.begin>0&&!l[t.begin-1];)t.begin--;if(0===t.begin)for(;t.begin<f&&!l[t.begin];)t.begin++;j.caret(t.begin,t.begin)}else{for(x(!0);t.begin<h&&!l[t.begin];)t.begin++;j.caret(t.begin,t.begin)}m()}),x()})}})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImpxdWVyeS5tYXNrZWRpbnB1dC5qcyJdLCJuYW1lcyI6WyJhIiwiZGVmaW5lIiwiYW1kIiwiZXhwb3J0cyIsInJlcXVpcmUiLCJqUXVlcnkiLCJiIiwiYyIsIm5hdmlnYXRvciIsInVzZXJBZ2VudCIsImQiLCJ0ZXN0IiwiZSIsImYiLCJtYXNrIiwiZGVmaW5pdGlvbnMiLCI5IiwiKiIsImF1dG9jbGVhciIsImRhdGFOYW1lIiwicGxhY2Vob2xkZXIiLCJmbiIsImV4dGVuZCIsImNhcmV0IiwidGhpcyIsImxlbmd0aCIsImlzIiwiZWFjaCIsInNldFNlbGVjdGlvblJhbmdlIiwiY3JlYXRlVGV4dFJhbmdlIiwiY29sbGFwc2UiLCJtb3ZlRW5kIiwibW92ZVN0YXJ0Iiwic2VsZWN0Iiwic2VsZWN0aW9uU3RhcnQiLCJzZWxlY3Rpb25FbmQiLCJkb2N1bWVudCIsInNlbGVjdGlvbiIsImNyZWF0ZVJhbmdlIiwiZHVwbGljYXRlIiwidGV4dCIsImJlZ2luIiwiZW5kIiwidW5tYXNrIiwidHJpZ2dlciIsImciLCJpIiwiaiIsImsiLCJsIiwibSIsIm4iLCJvIiwicCIsImRhdGEiLCJjb21wbGV0ZWQiLCJzcGxpdCIsInB1c2giLCJSZWdFeHAiLCJoIiwiQyIsImNhbGwiLCJCIiwiY2hhckF0IiwicSIsInMiLCJ6IiwiTWF0aCIsIm1heCIsInYiLCJBIiwidmFsIiwiRSIsImNoYW5nZSIsInkiLCJqb2luIiwiRCIsInN1YnN0cmluZyIsIm1hcCIsIm9uZSIsIm9mZiIsInJlbW92ZURhdGEiLCJvbiIsInByb3AiLCJjbGVhclRpbWVvdXQiLCJzZXRUaW1lb3V0IiwiZ2V0IiwiYWN0aXZlRWxlbWVudCIsInJlcGxhY2UiLCJ3aGljaCIsImtleUNvZGUiLCJyIiwicHJldmVudERlZmF1bHQiLCJjdHJsS2V5IiwiYWx0S2V5IiwibWV0YUtleSIsIlN0cmluZyIsImZyb21DaGFyQ29kZSIsInQiLCJwcm94eSJdLCJtYXBwaW5ncyI6IkNBTUMsU0FBU0EsR0FBRyxtQkFB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UUFBUXFCLEVBQUV2QyxNQUFNakIsRUFBRW1DLE1BQU1uQyxFQUFFbUMsV0FBVyxDQUFDLElBQUk2QixHQUFFLEdBQUloRSxFQUFFbUMsTUFBTVUsSUFBSUosRUFBRXpDLEVBQUVtQyxRQUFRbkMsRUFBRW1DLFFBQVFxQixFQUFFdkMsTUFBTWpCLEVBQUVtQyxNQUFNbkMsRUFBRW1DLE9BQU9rQixNQUE4MURXIiwiZmlsZSI6ImpxdWVyeS5tYXNrZWRpbnB1dC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qXG4gICAgalF1ZXJ5IE1hc2tlZCBJbnB1dCBQbHVnaW5cbiAgICBDb3B5cmlnaHQgKGMpIDIwMDcgLSAyMDE1IEpvc2ggQnVzaCAoZGlnaXRhbGJ1c2guY29tKVxuICAgIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSAoaHR0cDovL2RpZ2l0YWxidXNoLmNvbS9wcm9qZWN0cy9tYXNrZWQtaW5wdXQtcGx1Z2luLyNsaWNlbnNlKVxuICAgIFZlcnNpb246IDEuNC4xXG4qL1xuIWZ1bmN0aW9uKGEpe1wiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoW1wianF1ZXJ5XCJdLGEpOmEoXCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHM/cmVxdWlyZShcImpxdWVyeVwiKTpqUXVlcnkpfShmdW5jdGlvbihhKXt2YXIgYixjPW5hdmlnYXRvci51c2VyQWdlbnQsZD0vaXBob25lL2kudGVzdChjKSxlPS9jaHJvbWUvaS50ZXN0KGMpLGY9L2FuZHJvaWQvaS50ZXN0KGMpO2EubWFzaz17ZGVmaW5pdGlvbnM6ezk6XCJbMC05XVwiLGE6XCJbQS1aYS16XVwiLFwiKlwiOlwiW0EtWmEtejAtOV1cIn0sYXV0b2NsZWFyOiEwLGRhdGFOYW1lOlwicmF3TWFza0ZuXCIscGxhY2Vob2xkZXI6XCJfXCJ9LGEuZm4uZXh0ZW5kKHtjYXJldDpmdW5jdGlvbihhLGIpe3ZhciBjO2lmKDAhPT10aGlzLmxlbmd0aCYmIXRoaXMuaXMoXCI6aGlkZGVuXCIpKXJldHVyblwibnVtYmVyXCI9PXR5cGVvZiBhPyhiPVwibnVtYmVyXCI9PXR5cGVvZiBiP2I6YSx0aGlzLmVhY2goZnVuY3Rpb24oKXt0aGlzLnNldFNlbGVjdGlvblJhbmdlP3RoaXMuc2V0U2VsZWN0aW9uUmFuZ2UoYSxiKTp0aGlzLmNyZWF0ZVRleHRSYW5nZSYmKGM9dGhpcy5jcmVhdGVUZXh0UmFuZ2UoKSxjLmNvbGxhcHNlKCEwKSxjLm1vdmVFbmQoXCJjaGFyYWN0ZXJcIixiKSxjLm1vdmVTdGFydChcImNoYXJhY3RlclwiLGEpLGMuc2VsZWN0KCkpfSkpOih0aGlzWzBdLnNldFNlbGVjdGlvblJhbmdlPyhhPXRoaXNbMF0uc2VsZWN0aW9uU3RhcnQsYj10aGlzWzBdLnNlbGVjdGlvbkVuZCk6ZG9jdW1lbnQuc2VsZWN0aW9uJiZkb2N1bWVudC5zZWxlY3Rpb24uY3JlYXRlUmFuZ2UmJihjPWRvY3VtZW50LnNlbGVjdGlvbi5jcmVhdGVSYW5nZSgpLGE9MC1jLmR1cGxpY2F0ZSgpLm1vdmVTdGFydChcImNoYXJhY3RlclwiLC0xZTUpLGI9YStjLnRleHQubGVuZ3RoKSx7YmVnaW46YSxlbmQ6Yn0pfSx1bm1hc2s6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50cmlnZ2VyKFwidW5tYXNrXCIpfSxtYXNrOmZ1bmN0aW9uKGMsZyl7dmFyIGgsaSxqLGssbCxtLG4sbztpZighYyYmdGhpcy5sZW5ndGg+MCl7aD1hKHRoaXNbMF0pO3ZhciBwPWguZGF0YShhLm1hc2suZGF0YU5hbWUpO3JldHVybiBwP3AoKTp2b2lkIDB9cmV0dXJuIGc9YS5leHRlbmQoe2F1dG9jbGVhcjphLm1hc2suYXV0b2NsZWFyLHBsYWNlaG9sZGVyOmEubWFzay5wbGFjZWhvbGRlcixjb21wbGV0ZWQ6bnVsbH0sZyksaT1hLm1hc2suZGVmaW5pdGlvbnMsaj1bXSxrPW49Yy5sZW5ndGgsbD1udWxsLGEuZWFjaChjLnNwbGl0KFwiXCIpLGZ1bmN0aW9uKGEsYil7XCI/XCI9PWI/KG4tLSxrPWEpOmlbYl0/KGoucHVzaChuZXcgUmVnRXhwKGlbYl0pKSxudWxsPT09bCYmKGw9ai5sZW5ndGgtMSksaz5hJiYobT1qLmxlbmd0aC0xKSk6ai5wdXNoKG51bGwpfSksdGhpcy50cmlnZ2VyKFwidW5tYXNrXCIpLmVhY2goZnVuY3Rpb24oKXtmdW5jdGlvbiBoKCl7aWYoZy5jb21wbGV0ZWQpe2Zvcih2YXIgYT1sO20+PWE7YSsrKWlmKGpbYV0mJkNbYV09PT1wKGEpKXJldHVybjtnLmNvbXBsZXRlZC5jYWxsKEIpfX1mdW5jdGlvbiBwKGEpe3JldHVybiBnLnBsYWNlaG9sZGVyLmNoYXJBdChhPGcucGxhY2Vob2xkZXIubGVuZ3RoP2E6MCl9ZnVuY3Rpb24gcShhKXtmb3IoOysrYTxuJiYhalthXTspO3JldHVybiBhfWZ1bmN0aW9uIHIoYSl7Zm9yKDstLWE+PTAmJiFqW2FdOyk7cmV0dXJuIGF9ZnVuY3Rpb24gcyhhLGIpe3ZhciBjLGQ7aWYoISgwPmEpKXtmb3IoYz1hLGQ9cShiKTtuPmM7YysrKWlmKGpbY10pe2lmKCEobj5kJiZqW2NdLnRlc3QoQ1tkXSkpKWJyZWFrO0NbY109Q1tkXSxDW2RdPXAoZCksZD1xKGQpfXooKSxCLmNhcmV0KE1hdGgubWF4KGwsYSkpfX1mdW5jdGlvbiB0KGEpe3ZhciBiLGMsZCxlO2ZvcihiPWEsYz1wKGEpO24+YjtiKyspaWYoaltiXSl7aWYoZD1xKGIpLGU9Q1tiXSxDW2JdPWMsIShuPmQmJmpbZF0udGVzdChlKSkpYnJlYWs7Yz1lfX1mdW5jdGlvbiB1KCl7dmFyIGE9Qi52YWwoKSxiPUIuY2FyZXQoKTtpZihvJiZvLmxlbmd0aCYmby5sZW5ndGg+YS5sZW5ndGgpe2ZvcihBKCEwKTtiLmJlZ2luPjAmJiFqW2IuYmVnaW4tMV07KWIuYmVnaW4tLTtpZigwPT09Yi5iZWdpbilmb3IoO2IuYmVnaW48bCYmIWpbYi5iZWdpbl07KWIuYmVnaW4rKztCLmNhcmV0KGIuYmVnaW4sYi5iZWdpbil9ZWxzZXtmb3IoQSghMCk7Yi5iZWdpbjxuJiYhaltiLmJlZ2luXTspYi5iZWdpbisrO0IuY2FyZXQoYi5iZWdpbixiLmJlZ2luKX1oKCl9ZnVuY3Rpb24gdigpe0EoKSxCLnZhbCgpIT1FJiZCLmNoYW5nZSgpfWZ1bmN0aW9uIHcoYSl7aWYoIUIucHJvcChcInJlYWRvbmx5XCIpKXt2YXIgYixjLGUsZj1hLndoaWNofHxhLmtleUNvZGU7bz1CLnZhbCgpLDg9PT1mfHw0Nj09PWZ8fGQmJjEyNz09PWY/KGI9Qi5jYXJldCgpLGM9Yi5iZWdpbixlPWIuZW5kLGUtYz09PTAmJihjPTQ2IT09Zj9yKGMpOmU9cShjLTEpLGU9NDY9PT1mP3EoZSk6ZSkseShjLGUpLHMoYyxlLTEpLGEucHJldmVudERlZmF1bHQoKSk6MTM9PT1mP3YuY2FsbCh0aGlzLGEpOjI3PT09ZiYmKEIudmFsKEUpLEIuY2FyZXQoMCxBKCkpLGEucHJldmVudERlZmF1bHQoKSl9fWZ1bmN0aW9uIHgoYil7aWYoIUIucHJvcChcInJlYWRvbmx5XCIpKXt2YXIgYyxkLGUsZz1iLndoaWNofHxiLmtleUNvZGUsaT1CLmNhcmV0KCk7aWYoIShiLmN0cmxLZXl8fGIuYWx0S2V5fHxiLm1ldGFLZXl8fDMyPmcpJiZnJiYxMyE9PWcpe2lmKGkuZW5kLWkuYmVnaW4hPT0wJiYoeShpLmJlZ2luLGkuZW5kKSxzKGkuYmVnaW4saS5lbmQtMSkpLGM9cShpLmJlZ2luLTEpLG4+YyYmKGQ9U3RyaW5nLmZyb21DaGFyQ29kZShnKSxqW2NdLnRlc3QoZCkpKXtpZih0KGMpLENbY109ZCx6KCksZT1xKGMpLGYpe3ZhciBrPWZ1bmN0aW9uKCl7YS5wcm94eShhLmZuLmNhcmV0LEIsZSkoKX07c2V0VGltZW91dChrLDApfWVsc2UgQi5jYXJldChlKTtpLmJlZ2luPD1tJiZoKCl9Yi5wcmV2ZW50RGVmYXVsdCgpfX19ZnVuY3Rpb24geShhLGIpe3ZhciBjO2ZvcihjPWE7Yj5jJiZuPmM7YysrKWpbY10mJihDW2NdPXAoYykpfWZ1bmN0aW9uIHooKXtCLnZhbChDLmpvaW4oXCJcIikpfWZ1bmN0aW9uIEEoYSl7dmFyIGIsYyxkLGU9Qi52YWwoKSxmPS0xO2ZvcihiPTAsZD0wO24+YjtiKyspaWYoaltiXSl7Zm9yKENbYl09cChiKTtkKys8ZS5sZW5ndGg7KWlmKGM9ZS5jaGFyQXQoZC0xKSxqW2JdLnRlc3QoYykpe0NbYl09YyxmPWI7YnJlYWt9aWYoZD5lLmxlbmd0aCl7eShiKzEsbik7YnJlYWt9fWVsc2UgQ1tiXT09PWUuY2hhckF0KGQpJiZkKyssaz5iJiYoZj1iKTtyZXR1cm4gYT96KCk6az5mKzE/Zy5hdXRvY2xlYXJ8fEMuam9pbihcIlwiKT09PUQ/KEIudmFsKCkmJkIudmFsKFwiXCIpLHkoMCxuKSk6eigpOih6KCksQi52YWwoQi52YWwoKS5zdWJzdHJpbmcoMCxmKzEpKSksaz9iOmx9dmFyIEI9YSh0aGlzKSxDPWEubWFwKGMuc3BsaXQoXCJcIiksZnVuY3Rpb24oYSxiKXtyZXR1cm5cIj9cIiE9YT9pW2FdP3AoYik6YTp2b2lkIDB9KSxEPUMuam9pbihcIlwiKSxFPUIudmFsKCk7Qi5kYXRhKGEubWFzay5kYXRhTmFtZSxmdW5jdGlvbigpe3JldHVybiBhLm1hcChDLGZ1bmN0aW9uKGEsYil7cmV0dXJuIGpbYl0mJmEhPXAoYik/YTpudWxsfSkuam9pbihcIlwiKX0pLEIub25lKFwidW5tYXNrXCIsZnVuY3Rpb24oKXtCLm9mZihcIi5tYXNrXCIpLnJlbW92ZURhdGEoYS5tYXNrLmRhdGFOYW1lKX0pLm9uKFwiZm9jdXMubWFza1wiLGZ1bmN0aW9uKCl7aWYoIUIucHJvcChcInJlYWRvbmx5XCIpKXtjbGVhclRpbWVvdXQoYik7dmFyIGE7RT1CLnZhbCgpLGE9QSgpLGI9c2V0VGltZW91dChmdW5jdGlvbigpe0IuZ2V0KDApPT09ZG9jdW1lbnQuYWN0aXZlRWxlbWVudCYmKHooKSxhPT1jLnJlcGxhY2UoXCI/XCIsXCJcIikubGVuZ3RoP0IuY2FyZXQoMCxhKTpCLmNhcmV0KGEpKX0sMTApfX0pLm9uKFwiYmx1ci5tYXNrXCIsdikub24oXCJrZXlkb3duLm1hc2tcIix3KS5vbihcImtleXByZXNzLm1hc2tcIix4KS5vbihcImlucHV0Lm1hc2sgcGFzdGUubWFza1wiLGZ1bmN0aW9uKCl7Qi5wcm9wKFwicmVhZG9ubHlcIil8fHNldFRpbWVvdXQoZnVuY3Rpb24oKXt2YXIgYT1BKCEwKTtCLmNhcmV0KGEpLGgoKX0sMCl9KSxlJiZmJiZCLm9mZihcImlucHV0Lm1hc2tcIikub24oXCJpbnB1dC5tYXNrXCIsdSksQSgpfSl9fSl9KTsiXX0=
